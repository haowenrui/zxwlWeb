webpackJsonp([5],{"8XHS":function(e,t){},d80X:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),n=a.n(r),s=a("J0Oq"),o=a.n(s),i=a("kA1J"),l=a("Q0Ca"),c=a("GPKu"),u=a("+7CC"),m={components:{regionSelection:i.a},props:[],data:function(){return{queryingShowLoading:!1,queryParams:{startTime:"",endTime:"",merchantName:"",provinceCode:"",cityCode:"",merchantType:"",status:"",auditStatus:"",contact:"",pageSize:10,pageNo:1},total:0,pageSize:10,currentPage:1,pickerOptions1:{disabledDate:function(e){return e.getTime()>Date.now()}},tHead:[{prop:"merchantId",label:"商户ID",width:""},{prop:"merchantName",label:"商户名称",width:""},{prop:"districtName",label:"商户地区",width:"",formatter:function(e){return Object(l.areaFilter)(e)}},{prop:"merchantType",label:"商户类型",width:"",formatter:function(e,t,a){return Object(l.merchantTypeFilter)(a)}},{prop:"contactName",label:"联系人姓名",width:""},{prop:"contactMobile",label:"联系人手机号",width:""},{prop:"createTime",label:"开户时间",width:"",formatter:function(e,t,a){return Object(c.c)("yyyy-MM-dd",new Date(1e3*a))}},{prop:"status",label:"审核状态",width:"",formatter:function(e,t,a){return Object(l.merchantAuditStatusFilter)(a)}}],tBody:[]}},watch:{},computed:{},created:function(){var e=u.a.getCmbcAgentNo();Object(c.g)("_AGENT_A_COOKIE")==e&&(this.queryParams.provinceCode=52e4,this.queryParams.cityCode=520100)},mounted:function(){this.queryMerchantsList()},methods:{onQuery:function(){this.queryParams.pageNo=1,this.queryMerchantsList()},onRest:function(){this.queryParams.startTime="",this.queryParams.endTime="";var e=u.a.getCmbcAgentNo();Object(c.g)("_AGENT_A_COOKIE")==e?(this.queryParams.provinceCode=52e4,this.queryParams.cityCode=520100):(this.queryParams.provinceCode="",this.queryParams.cityCode=""),this.$refs.form.resetFields(),this.onQuery()},addNew:function(){this.$router.push({path:"/addNewMerchant"})},_checkSchoolInfo:function(e){this.$router.push({path:"/merchantDetail",query:{merchantId:e.merchantId}})},handleCurrentChange:function(e){this.queryParams.pageNo=e,this.queryMerchantsList()},queryMerchantsList:function(){var e=this;return o()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=Object(c.a)(e.queryParams.startTime,e.queryParams.endTime))){t.next=4;break}return e.$message.warning(a),t.abrupt("return");case 4:return t.next=6,e.$http.post(e.$urlApi.queryMerchantsList,e.queryParams);case 6:r=t.sent,e.tBody=r.data.rows,e.total=r.data.total,e.queryParams.pageNo=r.data.pageNo;case 10:case"end":return t.stop()}},t,e)}))()}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{inline:!0,model:e.queryParams,size:"small"}},[a("el-form-item",{attrs:{label:"开户时间:"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期",format:"yyyy-MM-dd",editable:!1,"value-format":"yyyy-MM-dd",pickerOptions:e.pickerOptions1},model:{value:e.queryParams.startTime,callback:function(t){e.$set(e.queryParams,"startTime",t)},expression:"queryParams.startTime"}}),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期",editable:!1,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",pickerOptions:e.pickerOptions1},model:{value:e.queryParams.endTime,callback:function(t){e.$set(e.queryParams,"endTime",t)},expression:"queryParams.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户地区:"}},[a("region-selection",{attrs:{areaParam:e.queryParams,showItemAll:!0,areaLevel:"city"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户类型:",prop:"merchantType"}},[a("el-select",{staticClass:"select-method",attrs:{placeholder:"请选择"},model:{value:e.queryParams.merchantType,callback:function(t){e.$set(e.queryParams,"merchantType",t)},expression:"queryParams.merchantType"}},[a("el-option",{key:"",attrs:{label:"全部",value:""}}),e._v(" "),e._l(this.$constants.merchantTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"审核状态:",prop:"auditStatus"}},[a("el-select",{staticClass:"select-method",attrs:{placeholder:"请选择"},model:{value:e.queryParams.auditStatus,callback:function(t){e.$set(e.queryParams,"auditStatus",t)},expression:"queryParams.auditStatus"}},[a("el-option",{key:"",attrs:{label:"全部",value:""}}),e._v(" "),e._l(this.$constants.auditStatusList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"商户信息:",prop:"merchantName"}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",size:"small",placeholder:"商户ID/商户名称"},model:{value:e.queryParams.merchantName,callback:function(t){e.$set(e.queryParams,"merchantName","string"==typeof t?t.trim():t)},expression:"queryParams.merchantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人信息:",prop:"contact"}},[a("el-input",{staticClass:"input-info",attrs:{clearable:"",size:"small",placeholder:"联系人姓名/联系人手机号"},model:{value:e.queryParams.contact,callback:function(t){e.$set(e.queryParams,"contact","string"==typeof t?t.trim():t)},expression:"queryParams.contact"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"button-query",attrs:{type:"primary",loading:e.queryingShowLoading},on:{click:e.onQuery}},[e._v("查询\n            ")])],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"button-query",attrs:{type:"primary"},on:{click:e.onRest}},[e._v("重置\n            ")])],1)],1),e._v(" "),a("div",[a("div",{staticClass:"clear-fix mb10"},[a("el-button",{staticClass:"button-query fr",attrs:{type:"primary",size:"small"},on:{click:e.addNew}},[e._v("新增商户\n            ")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tBody,border:"",size:"small"}},[e._l(e.tHead,function(e){return a("el-table-column",{key:e.prop,attrs:{align:"center",prop:e.prop,label:e.label,width:e.width,formatter:e.formatter}})}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"查看",placement:"bottom"}},[a("el-button",{staticClass:"iconfont icon-chakan",attrs:{type:"text"},on:{click:function(a){e._checkSchoolInfo(t.row)}}})],1)]}}])})],2),e._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"page",attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total,background:"",disabled:e.queryingShowLoading},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(m,p,!1,function(e){a("8XHS")},"data-v-77b84cb5",null);t.default=d.exports}});