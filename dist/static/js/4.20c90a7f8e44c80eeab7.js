webpackJsonp([4],{EavK:function(e,t){},ZRxu:function(e,t){},iNeN:function(e,t){},lOdb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("lC5x"),i=a.n(n),s=a("J0Oq"),r=a.n(s),o=a("GPKu"),l={components:{},mixins:[],props:["equipmentInfo"],data:function(){return{form:{deviceId:this.equipmentInfo.equipmentInfo,deviceQRCode:"",deviceName:"",hostId:"",hostType:"",hostTypeMini:"",deviceType:"",deviceTypeMini:"",letterCode:"",proComName:"",proComCode:"",proType:"",minValue:"",maxValue:"",letterAgreement:"",traMethod:"",isSimulate:"",version:"",insFrequency:"",overTime:"",fireFacility:""},hostList:[],miniTypeList:[],hostEquList:[]}},watch:{},computed:{},created:function(){this.equipmentInfo.deviceId&&this.queryEquipmentInfo()},mounted:function(){this.queryHostType(),this.queryEquipmentList()},methods:{queryHostType:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(e.$equApi.findMiniTypeByNoteAndParentCode,{note:"",parentCode:"5",type:"设备类型"});case 2:a=t.sent,e.hostList=a.data;case 4:case"end":return t.stop()}},t,e)}))()},queryMiniType:function(e){var t=this;return r()(i.a.mark(function a(){var n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get(t.$equApi.findMiniTypeByNoteAndParentCode,{parentCode:e,note:"无线设备,主机终端",type:"设备小类型"});case 2:n=a.sent,t.miniTypeList=n.data;case 4:case"end":return a.stop()}},a,t)}))()},queryEquipmentList:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(e.$equApi.hostList,{pageSize:1e7,pageNumber:1});case 2:a=t.sent,e.hostEquList=a.data.hostList;case 4:case"end":return t.stop()}},t,e)}))()},deviceTypeChange:function(){this.form.deviceTypeMini="",this.queryMiniType(this.form.deviceType)},cancel:function(){this.$emit("update:show",!1)},addNew:function(){var e=this;this.$refs.form.validate(function(t){t?e._addAndModifyEquipment():e.$message({showClose:!0,message:errorMsg,type:"error"})})},queryEquipmentInfo:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(e.$equApi.queryEquipmentInfo,{equipmentId:e.equipmentInfo.deviceId});case 2:a=t.sent,e.form=a.data;case 4:case"end":return t.stop()}},t,e)}))()},_addAndModifyEquipment:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,e.equipmentInfo.deviceId){t.next=7;break}return t.next=4,e.$http.post(e.$equApi.addEquipment,e.form);case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,e.$http.post(e.$equApi.modifyEquipment,e.form);case 9:a=t.sent;case 10:"SUCCESS"==a.result&&(e.$emit("update:show",!1),e.$emit("refreshData"),e.$message({showClose:!0,message:"添加成功",type:"success"}));case 11:case"end":return t.stop()}},t,e)}))()}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,inline:!0,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"设备名称:",required:"","show-message":!1}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",size:"small",placeholder:"请输入"},model:{value:e.form.deviceName,callback:function(t){e.$set(e.form,"deviceName","string"==typeof t?t.trim():t)},expression:"form.deviceName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备编码:",required:"","show-message":!1}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",size:"small",placeholder:"请输入"},model:{value:e.form.deviceQRCode,callback:function(t){e.$set(e.form,"deviceQRCode","string"==typeof t?t.trim():t)},expression:"form.deviceQRCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备类型:",required:"","show-message":!1}},[a("el-select",{staticClass:"input-search",attrs:{placeholder:"请选择",size:"small"},on:{change:e.deviceTypeChange},model:{value:e.form.deviceType,callback:function(t){e.$set(e.form,"deviceType",t)},expression:"form.deviceType"}},e._l(e.hostList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设备小类型:",required:"","show-message":!1}},[a("el-select",{staticClass:"input-search",attrs:{placeholder:"请选择",size:"small"},model:{value:e.form.deviceTypeMini,callback:function(t){e.$set(e.form,"deviceTypeMini",t)},expression:"form.deviceTypeMini"}},e._l(e.miniTypeList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"所属主机:"}},[a("el-select",{staticClass:"input-search",attrs:{placeholder:"请选择",size:"small"},model:{value:e.form.hostId,callback:function(t){e.$set(e.form,"hostId",t)},expression:"form.hostId"}},e._l(e.hostEquList,function(e){return a("el-option",{key:e.hostId,attrs:{label:e.hostName+"-"+e.hostQRCode,value:e.hostId}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"生产商:"}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",size:"small",placeholder:"请输入"},model:{value:e.form.proComName,callback:function(t){e.$set(e.form,"proComName","string"==typeof t?t.trim():t)},expression:"form.proComName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"版本号:"}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",size:"small",placeholder:"请输入"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version","string"==typeof t?t.trim():t)},expression:"form.version"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"巡检频次:"}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",size:"small",placeholder:"请输入"},model:{value:e.form.insFrequency,callback:function(t){e.$set(e.form,"insFrequency","string"==typeof t?t.trim():t)},expression:"form.insFrequency"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"过保时间:"}},[a("el-date-picker",{staticClass:"input-search",attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.overTime,callback:function(t){e.$set(e.form,"overTime",t)},expression:"form.overTime"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer text-right pb20"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addNew}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var u=a("C7Lr")(l,c,!1,function(e){a("iNeN")},"data-v-77ed773b",null).exports,p=a("a3Yh"),d=a.n(p),m=a("5YEj"),f=a.n(m),h={components:{},mixins:[],props:["equipmentInfo"],data:function(){var e;return e={queryingShowLoading:!1,form:{},typeList:[]},d()(e,"queryingShowLoading",!1),d()(e,"queryParams",{itemCode:"",equipmentId:this.equipmentInfo.deviceId,startTime:"",endTime:""}),e},watch:{},computed:{},created:function(){},mounted:function(){this.queryEquipmentInfo(),this.queryEquTypeList(),this.equHistoryCharts()},methods:{cancel:function(){this.$emit("update:show",!1)},queryClick:function(){this.queryingShowLoading=!0,this.equHistoryCharts()},queryEquipmentInfo:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(e.$equApi.queryEquipmentInfo,{equipmentId:e.equipmentInfo.deviceId});case 2:a=t.sent,e.form=a.data;case 4:case"end":return t.stop()}},t,e)}))()},queryEquTypeList:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(e.$equApi.findEquipmentModleItem,{equipmentConfigerCode:e.equipmentInfo.equipmentConfigerCode});case 2:a=t.sent,e.typeList=a.data;case 4:case"end":return t.stop()}},t,e)}))()},equHistoryCharts:function(){var e=this;return r()(i.a.mark(function t(){var a,n,s,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e,a=document.getElementById("equHistory"),n=[],s=[],t.next=6,e.$http.post(e.$equApi.findEquipmentItemHistory,e.queryParams);case 6:(r=t.sent).data.forEach(function(e){n.push(Object(o.c)("yyyy-MM-dd hh:mm:ss",new Date(e.time))),s.push(e.value)}),e._renderLineCharts(a,n,s),r&&(e.queryingShowLoading=!1);case 10:case"end":return t.stop()}},t,e)}))()},_renderLineCharts:function(e,t,a){var n=f.a.init(e),i={grid:{top:"10px",left:"10px",right:"4%",bottom:"3%",containLabel:!0},tooltip:{show:!0,trigger:"axis"},xAxis:{type:"category",axisLine:{lineStyle:{color:"#ddd"}},axisLabel:{color:"#333",fontSize:10},data:t.map(function(e){return e.replace(" ","\n")})},yAxis:{type:"value",axisLine:{lineStyle:{color:"#ddd"}},axisLabel:{show:!0,color:"#333",fontSize:10},splitLine:{show:!1}},series:[{data:a,type:"line"}]};n.setOption(i)}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,inline:!0,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"设备名称:"}},[a("span",[e._v(e._s(e.form.deviceName))])]),e._v(" "),a("el-form-item",{attrs:{label:"设备编码:"}},[a("span",[e._v(e._s(e.form.deviceQRCode))])]),e._v(" "),a("el-form-item",{attrs:{label:"安装人员:"}},[a("span",[e._v(e._s(e.form.insUserName))])]),e._v(" "),a("el-form-item",{attrs:{label:"安装人员电话:"}},[a("span",[e._v(e._s(e.form.insUserTel))])]),e._v(" "),a("el-form-item",{attrs:{label:"生产商:"}},[a("span",[e._v(e._s(e.form.proComName))])]),e._v(" "),a("el-form-item",{attrs:{label:"版本号:"}},[a("span",[e._v(e._s(e.form.version))])]),e._v(" "),a("el-form-item",{attrs:{label:"巡检频次:"}},[a("span",[e._v(e._s(e.form.insFrequency))])]),e._v(" "),a("el-form-item",{attrs:{label:"过保时间:"}},[a("span",[e._v(e._s(e.form.overTime))])])],1),e._v(" "),a("div",[a("div",{staticClass:"charts-head text-right"},[a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryParams.itemCode,callback:function(t){e.$set(e.queryParams,"itemCode",t)},expression:"queryParams.itemCode"}},e._l(e.typeList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),a("el-date-picker",{staticClass:"school-manage-date",attrs:{type:"date",placeholder:"开始日期",size:"small",format:"yyyy-MM-dd",editable:!1,"value-format":"yyyy-MM-dd"},model:{value:e.queryParams.startTime,callback:function(t){e.$set(e.queryParams,"startTime",t)},expression:"queryParams.startTime"}}),e._v(" "),a("el-date-picker",{staticClass:"school-manage-date",attrs:{type:"date",placeholder:"结束日期",size:"small",editable:!1,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.queryParams.endTime,callback:function(t){e.$set(e.queryParams,"endTime",t)},expression:"queryParams.endTime"}}),e._v(" "),a("el-button",{staticClass:"button-query",attrs:{type:"primary",loading:e.queryingShowLoading,size:"small"},on:{click:e.queryClick}},[e._v("查询")])],1),e._v(" "),a("div",{attrs:{id:"equHistory"}})]),e._v(" "),a("div",{staticClass:"dialog-footer text-right pb20"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.cancel}},[e._v("关 闭")])],1)],1)},staticRenderFns:[]};var y=a("C7Lr")(h,v,!1,function(e){a("EavK")},"data-v-74060166",null).exports,g=(a("dkUZ"),a("Q0Ca")),q={components:{dialogAdd:u,dialogView:y},props:[],data:function(){return{dialogAdd:!1,dialogView:!1,queryingShowLoading:!1,importingShowLoading:!1,uploadAndDownload:!1,multipleChange:!1,uploadType:"nbSmoke",equList:[],uploadForm:{deviceName:"",equipmentConfigerCode:""},selectHostName:"",queryParams:{name:"",deviceOnline:"",pageSize:10,pageNumber:1},insUserList:[],token:"",total:0,pageSize:10,currentPage:1,multipleSelection:[],pickerOptions1:{disabledDate:function(e){return e.getTime()>Date.now()}},tHead:[{prop:"deviceQRCode",label:"设备编号",width:""},{prop:"deviceName",label:"设备名称",width:""},{prop:"deviceOnline",label:"状态",width:"",formatter:function(e,t,a){return Object(g.deviceStatus)(a)}},{prop:"createTime",label:"新增时间",width:"",formatter:function(e,t,a){return Object(o.c)("yyyy-MM-dd hh:mm:ss",new Date(a))}},{prop:"proComName",label:"厂家名称",width:""},{prop:"insUserName",label:"安装人员",width:""},{prop:"insFrequency",label:"巡检频次",width:""},{prop:"overTime",label:"过保时间",width:"",formatter:function(e,t,a){return Object(o.c)("yyyy-MM-dd",new Date(a))}},{prop:"addDeviceUserName",label:"创建者",width:""}],tBody:[],equipmentInfo:{},hostList:[],companyList:[],selectInsuser:""}},watch:{},computed:{templateURL:function(){return this.$equApi.importDevice},editShow:function(){return this.$permissionShow("equipment_edit")}},created:function(){},mounted:function(){this.token=Object(o.g)("_TOKEN_"),this.queryEquipmentList(),this.queryHostType(),this.queryUserList()},methods:{onQuery:function(){this.queryParams.pageNumber=1,this.queryEquipmentList()},queryHostType:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(e.$equApi.findMiniTypeByNoteAndParentCode,{note:"无线设备"});case 2:a=t.sent,e.hostList=a.data,e.uploadForm.deviceName=a.data[0].code,e.selectHostName=a.data[0].name,e.changeEqu();case 7:case"end":return t.stop()}},t,e)}))()},changeEqu:function(){var e=this;return r()(i.a.mark(function t(){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,e.hostList.forEach(function(e){e.code==a.uploadForm.deviceName&&(a.selectHostName=e.name)}),t.next=4,e.$http.get(e.$equApi.getEquipmentConfiger,{miniTypeCode:e.uploadForm.deviceName});case 4:n=t.sent,e.companyList=n.data;case 6:case"end":return t.stop()}},t,e)}))()},addNew:function(){this.equipmentInfo={},this.dialogAdd=!0},deleteEquipment:function(){var e=this;return r()(i.a.mark(function t(){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],!(e.multipleSelection.length<=0)){t.next=5;break}return t.abrupt("return");case 5:e.multipleSelection.forEach(function(e){a.push(e.deviceId)});case 6:return t.next=8,e.$http.post(e.$equApi.deleteEquipment,a);case 8:"SUCCESS"==(n=t.sent).result?(e.$message({showClose:!0,message:"删除成功",type:"success"}),e.multipleSelection=[],e.onQuery()):e.$message({showClose:!0,message:n.message,type:"error"});case 10:case"end":return t.stop()}},t,e)}))()},_checkSchoolInfo:function(e){this.equipmentInfo=e,this.dialogView=!0},beforeUpload:function(e){this.token=Object(o.g)("_TOKEN_"),this.importingShowLoading=!0},uploadSuccess:function(e){var t=this;return this.importingShowLoading=!1,function(e,a,n){"SUCCESS"==e.result?(t.$message({showClose:!0,message:"导入成功",type:"success"}),t.uploadAndDownload=!1,t.refreshData()):t.$message({showClose:!0,message:"导入失败",type:"error"})}},uploadFailure:function(e,t,a){this.importingShowLoading=!1,this.$message({showClose:!0,message:"导入失败",type:"error"})},handleCurrentChange:function(e){this.queryParams.pageNumber=e,this.queryEquipmentList()},queryEquipmentList:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(e.$equApi.equipmentList,e.queryParams);case 2:a=t.sent,e.tBody=a.data.equipmentList,e.total=parseInt(a.data.equipmentCount);case 5:case"end":return t.stop()}},t,e)}))()},_editSchoolInfo:function(e){this.equipmentInfo=e,this.dialogAdd=!0},handleSelectionChange:function(e){this.multipleSelection=e},queryUserList:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(e.$urlApi.getUserList,{type:"INSTALLER",pageSize:1e7,pageNumber:1});case 2:a=t.sent,e.insUserList=a.data.content;case 4:case"end":return t.stop()}},t,e)}))()},transfer:function(){this.multipleSelection.length>0&&(this.multipleChange=!0)},cancleMultipleChange:function(){this.multipleChange=!1,this.selectInsuser=""},submitMultipleChange:function(){var e=this;return r()(i.a.mark(function t(){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],e.multipleSelection.forEach(function(e){a.push(e.deviceId)}),e.selectInsuser){t.next=5;break}return e.$message({showClose:!0,message:"请选择安装人员",type:"error"}),t.abrupt("return",!1);case 5:return t.next=7,e.$http.post(e.$equApi.changeEqupInsUser,{type:"equipment",equipIds:a,companyUserId:e.selectInsuser});case 7:n=t.sent,e.multipleChange=!1,n.status?e.$message({showClose:!0,message:n.message,type:"error"}):(e.$message({showClose:!0,message:"操作成功",type:"success"}),e.onQuery()),e.selectInsuser="";case 11:case"end":return t.stop()}},t,e)}))()},refreshData:function(){this.onQuery()},downloadEquTemplate:function(){var e=this;return r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(o.d)("http://39.98.173.65:9001/equipment/downloadTemplatezxwl?deviceMiniTypeCode="+e.uploadForm.deviceName);case 1:case"end":return t.stop()}},t,e)}))()}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{inline:!0,model:e.queryParams,size:"small"}},[a("el-form-item",{attrs:{label:"设备名称:",prop:"name"}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",size:"small",placeholder:"请输入"},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name","string"==typeof t?t.trim():t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"在线状态:",prop:"name"}},[a("el-select",{staticClass:"input-search",attrs:{placeholder:"请选择",size:"small"},model:{value:e.queryParams.deviceOnline,callback:function(t){e.$set(e.queryParams,"deviceOnline",t)},expression:"queryParams.deviceOnline"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(this.$constants.equStateList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"button-query",attrs:{type:"primary",loading:e.queryingShowLoading},on:{click:e.onQuery}},[e._v("查询\n\t\t\t\t")])],1)],1),e._v(" "),a("div",{staticClass:"use-table"},[a("div",{staticClass:"clear-fix mb10"},[this.$permissionShow("equipment_create")?a("el-button",{staticClass:"fr",attrs:{type:"primary",size:"small"},on:{click:e.addNew}},[e._v("新增设备")]):e._e(),e._v(" "),this.$permissionShow("equipment_create")?a("el-button",{staticClass:"fr mr10",attrs:{type:"primary",size:"small",disabled:0==e.multipleSelection.length},on:{click:e.transfer}},[e._v("变更安装人员")]):e._e(),e._v(" "),this.$permissionShow("equipment_delete")?a("el-button",{staticClass:"button-query fr mr10",attrs:{type:"warning",size:"small"},on:{click:e.deleteEquipment}},[e._v("删除设备\n\t\t\t\t")]):e._e(),e._v(" "),this.$permissionShow("equipment_import")?a("el-button",{staticClass:"button-query fr mr10",attrs:{size:"small",type:"success"},on:{click:function(t){e.uploadAndDownload=!e.uploadAndDownload}}},[e._v("导入设备\n\t\t\t\t\t")]):e._e(),e._v(" "),this.$permissionShow("equipment_import")?a("el-button",{staticClass:"button-query fr mr10",attrs:{type:"primary",size:"small"},on:{click:function(t){e.uploadAndDownload=!e.uploadAndDownload}}},[e._v("下载模板\n\t\t\t\t")]):e._e()],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tBody,border:"",size:"small"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),e._l(e.tHead,function(e){return a("el-table-column",{key:e.prop,attrs:{align:"center",prop:e.prop,label:e.label,width:e.width,formatter:e.formatter}})}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{effect:"dark",content:"查看",placement:"bottom"}},[a("el-button",{staticClass:"iconfont icon-chakan",attrs:{type:"text"},on:{click:function(a){e._checkSchoolInfo(t.row)}}})],1),e._v(" "),e.editShow?a("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"bottom"}},[a("el-button",{staticClass:"iconfont icon-biji",attrs:{type:"text"},on:{click:function(a){e._editSchoolInfo(t.row)}}})],1):e._e()]}}])})],2),e._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"page",attrs:{"current-page":e.queryParams.pageNumber,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.total,disabled:e.queryingShowLoading},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),e.dialogAdd?a("el-dialog",{attrs:{title:e.equipmentInfo.deviceId?"编辑":"新增",visible:e.dialogAdd,width:"60%"},on:{"update:visible":function(t){e.dialogAdd=t}}},[a("dialogAdd",{attrs:{show:e.dialogAdd,equipmentInfo:e.equipmentInfo},on:{"update:show":function(t){e.dialogAdd=t},refreshData:e.refreshData}})],1):e._e(),e._v(" "),e.dialogView?a("el-dialog",{attrs:{title:"查看",visible:e.dialogView,width:"60%"},on:{"update:visible":function(t){e.dialogView=t}}},[a("dialogView",{attrs:{show:e.dialogView,equipmentInfo:e.equipmentInfo},on:{"update:show":function(t){e.dialogView=t}}})],1):e._e(),e._v(" "),e.uploadAndDownload?a("el-dialog",{attrs:{title:"上传与下载",visible:e.uploadAndDownload,width:"60%"},on:{"update:visible":function(t){e.uploadAndDownload=t}}},[a("div",{staticClass:"clearfix mt10 mb10 pl30"},[a("el-select",{staticClass:"fl mr10",staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"small"},on:{change:e.changeEqu},model:{value:e.uploadForm.deviceName,callback:function(t){e.$set(e.uploadForm,"deviceName",t)},expression:"uploadForm.deviceName"}},e._l(e.hostList,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),a("el-select",{staticClass:"fl mr10",staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.uploadForm.equipmentConfigerCode,callback:function(t){e.$set(e.uploadForm,"equipmentConfigerCode",t)},expression:"uploadForm.equipmentConfigerCode"}},e._l(e.companyList,function(e){return a("el-option",{key:e.id,attrs:{label:e.des,value:e.code}})}),1),e._v(" "),a("el-button",{staticClass:"button-query fl mr10",attrs:{size:"small",loading:e.importingShowLoading,type:"primary"},on:{click:e.downloadEquTemplate}},[e._v("下载模板\n                ")]),e._v(" "),a("el-upload",{staticClass:"button-query fl",attrs:{action:e.templateURL,headers:{"X-Access-Token":e.token},data:e.uploadForm,"on-success":e.uploadSuccess(),"on-error":e.uploadFailure,"before-upload":e.beforeUpload,disabled:e.importingShowLoading,"show-file-list":!1}},[a("el-button",{staticClass:"button-query",attrs:{size:"small",loading:e.importingShowLoading,type:"success"}},[e._v("导入设备\n                    ")])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.uploadAndDownload=!1}}},[e._v("关闭")])],1)]):e._e(),e._v(" "),e.multipleChange?a("el-dialog",{attrs:{title:"批量迁移",visible:e.multipleChange,width:"550px"},on:{"update:visible":function(t){e.multipleChange=t}}},[a("div",{staticClass:"dialog-cont"},[a("div",{staticClass:"select-agent-list clearfix"},[a("div",{staticStyle:{display:"inline-block"}},[e._v("\n                        安装人员：\n                    ")]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("el-select",{attrs:{placeholder:"请选择安装人员",filterable:"",clearable:"",size:"small"},model:{value:e.selectInsuser,callback:function(t){e.selectInsuser=t},expression:"selectInsuser"}},e._l(e.insUserList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.companyUserId}})}),1)],1)])]),e._v(" "),a("div",{staticClass:"dialog-footer text-right pb20"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancleMultipleChange}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitMultipleChange}},[e._v("确 定")])],1)]):e._e()],1)},staticRenderFns:[]};var w=a("C7Lr")(q,b,!1,function(e){a("ZRxu")},"data-v-66538579",null);t.default=w.exports}});