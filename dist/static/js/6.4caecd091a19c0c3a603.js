webpackJsonp([6],{XXfu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("lC5x"),n=a.n(r),s=a("J0Oq"),o=a.n(s),i=a("kA1J"),l=a("Q0Ca"),u=a("GPKu"),c={components:{regionSelection:i.a},props:[],data:function(){return{queryingShowLoading:!1,queryParams:{startTime:"",endTime:"",tradeStatus:"",keywords:"",pageSize:10,pageNo:1},total:0,pageSize:10,currentPage:1,tradeTotalData:{},pickerOptions1:{disabledDate:function(t){return t.getTime()>Date.now()}},tHead:[{prop:"tradeId",label:"订单号",width:""},{prop:"merchantId",label:"商户ID",width:""},{prop:"merchantName",label:"商户名称",width:""},{prop:"totalAmount",label:"订单金额",width:"",formatter:function(t,e,a){return Object(l.moneyFilter)(a)}},{prop:"tradeStatus",label:"订单状态",width:"",formatter:function(t,e,a){return Object(l.tradeStatusFilter)(a)}},{prop:"createdAt",label:"交易时间",width:"",formatter:function(t,e,a){return Object(u.c)("yyyy-MM-dd",new Date(1e3*a))}},{prop:"channelType",label:"支付方式",width:"",formatter:function(t,e,a){return Object(l.payMathodFilter)(a)}}],tBody:[]}},watch:{},computed:{},created:function(){},mounted:function(){this.queryList(),this.queryTotalData()},methods:{onQuery:function(){var t=Object(u.a)(this.queryParams.startTime,this.queryParams.endTime);t?this.$message.warning(t):(this.queryParams.pageNo=1,this.queryList(),this.queryTotalData())},onRest:function(){this.queryParams.startTime="",this.queryParams.endTime="",this.queryParams.tradeStatus="",this.queryParams.keywords="",this.onQuery()},queryList:function(){var t=this;return o()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(t.$urlApi.queryTradeList,t.queryParams);case 2:a=e.sent,t.tBody=a.data.rows,t.total=a.data.total,t.queryParams.pageNo=a.data.pageNo;case 6:case"end":return e.stop()}},e,t)}))()},_checkSchoolInfo:function(){},_editSchoolInfo:function(){},handleCurrentChange:function(t){this.queryParams.pageNo=t,this.queryList()},queryTotalData:function(){var t=this;return o()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(t.$urlApi.queryTotalMoney,t.queryParams);case 2:a=e.sent,t.tradeTotalData=a.data;case 4:case"end":return e.stop()}},e,t)}))()}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{inline:!0,model:t.queryParams,size:"small"}},[a("el-form-item",{attrs:{label:"交易时间:"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期",format:"yyyy-MM-dd",editable:!1,"value-format":"yyyy-MM-dd",pickerOptions:t.pickerOptions1},model:{value:t.queryParams.startTime,callback:function(e){t.$set(t.queryParams,"startTime",e)},expression:"queryParams.startTime"}}),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期",editable:!1,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",pickerOptions:t.pickerOptions1},model:{value:t.queryParams.endTime,callback:function(e){t.$set(t.queryParams,"endTime",e)},expression:"queryParams.endTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"订单状态:"}},[a("el-select",{staticClass:"select-method",attrs:{placeholder:"请选择"},model:{value:t.queryParams.tradeStatus,callback:function(e){t.$set(t.queryParams,"tradeStatus",e)},expression:"queryParams.tradeStatus"}},[a("el-option",{key:"",attrs:{label:"全部",value:""}}),t._v(" "),t._l(this.$constants.tradingStatusList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"关键字:"}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",size:"small",placeholder:"商户名称/订单号"},model:{value:t.queryParams.keywords,callback:function(e){t.$set(t.queryParams,"keywords","string"==typeof e?e.trim():e)},expression:"queryParams.keywords"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"button-query",attrs:{type:"primary",loading:t.queryingShowLoading},on:{click:t.onQuery}},[t._v("查询\n            ")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"button-query",attrs:{type:"primary"},on:{click:t.onRest}},[t._v("重置\n            ")])],1)],1),t._v(" "),a("div",[a("div",{staticClass:"clearfix color-red mb20"},[a("div",{staticClass:"fl mr20"},[t._v("支付成功合计："+t._s(t.tradeTotalData.payCount)+"笔  |  "+t._s(t._f("moneyFilter")(t.tradeTotalData.payAmount))+"元")]),t._v(" "),a("div",{staticClass:"fl"},[t._v(" 退款成功合计："+t._s(t.tradeTotalData.refundCount)+"笔  |  "+t._s(t._f("moneyFilter")(t.tradeTotalData.refundAmount))+"元")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tBody,border:"",size:"small"}},t._l(t.tHead,function(t){return a("el-table-column",{key:t.prop,attrs:{align:"center",prop:t.prop,label:t.label,width:t.width,formatter:t.formatter}})}),1),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"page",attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next, jumper",total:t.total,background:"",disabled:t.queryingShowLoading},on:{"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var m=a("C7Lr")(c,d,!1,function(t){a("wusl")},"data-v-72b0ef84",null);e.default=m.exports},wusl:function(t,e){}});